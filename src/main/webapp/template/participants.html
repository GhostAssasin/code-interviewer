<script type="text/javascript">
    $("#datepicker").datepicker();
</script>
<div class="send-test">
	<div id="close-box" ></div>
	<div>
		<div class="head">
			<table cellspacing="0" cellpadding="0">
				<tr>
					<td class="img"><img src="images/profiles/error.png"></td>
					<td><span>New participant</span></td>
					<td><button id="close">Close</button></td>
				</tr>
			</table>	
		</div>
		<form method="POST">
		<div class="action">
			<table>
				<tr>
					<td>First Name</td>
					<td><input type="text" ng-model="firstName"></td>
				</tr>
				<tr>
					<td>Last Name</td>
					<td><input type="text"></td>
				</tr>
				<tr>
					<td>Birthday</td>
					<td><input type="text" id="datepicker" size="30"></td>
				</tr>
				<tr>
					<td>City</td>
					<td><input type="text"></td>
				</tr>
				<tr>
					<td>Speciality</td>
					<td>
						<select>
							<option selected></option>
							<option>Front-End Developer</option>
							<option>Java Developer</option>
							<option>.NET Developer</option>
							<option>JavaScript Developer</option>
						</select>
					</td>
				</tr>
				<tr>
					<td>English level</td>
					<td>
						<select>
							<option selected></option>
							<option>Beginner</option>
							<option>Elementary</option>
							<option>Pre-Intermediate</option>
							<option>Intermediate</option>
							<option>Upper intermediate</option>
							<option>Advanced</option>
							<option>Proficient</option>
						</select>
					</td>
				</tr>
				<tr>
					<td>Contact</td>
					<td><input type="text"></td>
				</tr>
				<tr>
					<td>Email</td>
					<td><input type="email"></td>
				</tr>
			</table>
		</div>
		<div class="tool">
			<button style="margin:0" ng-click="addRowAsyncAsJSON()" class="send">Add participant</button>
			<button id="close" style="float:right">Cancel</button>
		</div>
	</form>
	</div>
</div>

<section>
<div class="box">
	<table id="head">
		<tr>
			<td>{{clients.length}} Participants</td>
			<td style="height:35px;">
				<select 
					ng-change="changeAction()" 
					ng-model="pageSize" 
					ng-options="opt as opt for opt in pageSizes">
				</select>
			</td>
		</tr>
	</table>
	<table id="tableData" class="main-table" cellspacing="0" cellpadding="0">
		<thead>
			<th style="padding-left:15px">Name</th>
			<th></th>
			<th>Email</th>
			<th>Sent</th>
			<th>Returned</th>
			<th style="padding-right:15px">Taken</th>
		</thead>
		<tbody>
			<tr class="hover-tr" ng-repeat="client in lengthClientsPA = (clients | filter:{name:searchNameA, taken:selectTaken, email:searchEmailA} | orderBy:'surname')" ng-if="$index >= (currentPage * pageSize) && $index < ((currentPage+1)*pageSize)">
				<td class="td-status"><a href="#/participants/{{client.id}}"><img ng-src="images/profiles/{{client.image}}" onerror="this.src='images/profiles/error.png';" style="border-radius: 100%;"></a></td>
				<td class="td-name"><a href="#/participants/{{client.id}}">{{client.name}} {{client.surname}}</a></td>
				<td>{{client.email}} </td>
				<td>{{client.testSent}}</td>
				<td>{{client.testReturn}}</td>
				<td class="td-status"><img ng-src="images/{{client.taken}}.png" onerror="this.src='images/error.png';"></td>
			</tr>
			<tr ng-if="lengthClientsPA == 0"><td style="padding-left: 25px;color:#666">No search result</td></tr>
		</tbody>
	</table>
	
	<table id="tool" ng-if="lengthClientsPA != 0">
		<tr>
			<td>			
 		 		<button ng-click="paging(0)">Prev</button>
 				<span ng-click="paging(currentPage + 1)">{{currentPage + 1}}</span>
				<button ng-click="paging(1)">Next</button>
 				</td>
			<td><button class="send">New</button>
</td>
		</tr>
	</table>
</div>
<div class='alt'>Add new participant</div>
<div id="right-container">
	<div id="filter" class="box filter">
		<span>Filter</span>
		<div id="filter-container">
			<input type="text" placeholder="Name" onblur="this.placeholder='Name'" onfocus="this.placeholder=''" ng-model="searchNameA" ng-change="pageSize"><br>
			<input type="text" placeholder="Email adress" onblur="this.placeholder='Email adress'" onfocus="this.placeholder=''" ng-model="searchEmailA" ng-change="pageSize"><br>
			<select ng-model="selectTaken" ng-change="pageSize">
				<option value="" selected>All</option>
				<option value="done">Done</option>
				<option value="inProcess">In process</option>
				<option value="failed">Failed</option>
			</select>
		</div>
	</div>
	<div id="chart-taken" ng-controller="ClientsChartsCtrl" class="chart" google-chart chart="chartPie"/>
</div>

</section>


